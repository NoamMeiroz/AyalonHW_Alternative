CREATE TABLE `streets` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `LOCALITY` int NOT NULL,
  `LOCALITY_NAME` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `STREET_CODE` int NOT NULL,
  `STREET_NAME` varchar(80) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updatedAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=58630 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

CREATE TABLE `solutions` (
  `id` int NOT NULL AUTO_INCREMENT,
  `CODE` smallint NOT NULL,
  `NAME` varchar(45) NOT NULL,
  `SURVAY_RANK` smallint NOT NULL,
  `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updatedAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci


CREATE TABLE `employee_properties` (
  `id` int NOT NULL AUTO_INCREMENT,
  `CODE` int NOT NULL,
  `NAME` varchar(100) NOT NULL,
  `TYPE` varchar(10) NOT NULL,
  `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updatedAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `CODE_UNIQUE` (`CODE`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

CREATE TABLE `property_categories` (
  `id` int NOT NULL AUTO_INCREMENT,
  `PROPERTY_CODE` int NOT NULL,
  `CATEGORY_CODE` int NOT NULL,
  `NAME` varchar(100) NOT NULL,
  `MIN_VALUE` int DEFAULT NULL,
  `MAX_VALUE` int DEFAULT NULL,
  `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updateAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `index2` (`PROPERTY_CODE`,`CATEGORY_CODE`),
  CONSTRAINT `fk_property_categories_1` FOREIGN KEY (`PROPERTY_CODE`) REFERENCES `employee_properties` (`CODE`)
) ENGINE=InnoDB AUTO_INCREMENT=67 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci


CREATE TABLE `solution_property` (
  `id` int NOT NULL AUTO_INCREMENT,
  `SOLUTION_CODE` int NOT NULL,
  `PROPERTY_CODE` int NOT NULL,
  `CATEGORY_CODE` int NOT NULL,
  `VALUE` int unsigned NOT NULL,
  `updatedAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `index3` (`SOLUTION_CODE`,`PROPERTY_CODE`,`CATEGORY_CODE`),
  KEY `fk_solution_property_1_idx` (`PROPERTY_CODE`,`CATEGORY_CODE`),
  CONSTRAINT `fk_solution_property_1` FOREIGN KEY (`PROPERTY_CODE`, `CATEGORY_CODE`) REFERENCES `property_categories` (`PROPERTY_CODE`, `CATEGORY_CODE`)
) ENGINE=InnoDB AUTO_INCREMENT=330 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

CREATE TABLE `solution_marks` (
  `id` int NOT NULL AUTO_INCREMENT,
  `SOLUTION_CODE` smallint NOT NULL,
  `AVG_AGREEMENT` int NOT NULL,
  `MULTI` int NOT NULL,
  `POSITIVE_MARK` int NOT NULL,
  `NEGATIVE_MARK` int NOT NULL,
  `NATURAL_MARK` int NOT NULL,
  `DISQUALIFIED_MARK` int NOT NULL,
  `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updatedAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `SOLUTION_CODE_UNIQUE` (`SOLUTION_CODE`),
  CONSTRAINT `fk_solution_marks_1` FOREIGN KEY (`SOLUTION_CODE`) REFERENCES `solutions` (`CODE`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

CREATE TABLE `solution_limits` (
  `id` int NOT NULL AUTO_INCREMENT,
  `SOLUTION_CODE` smallint NOT NULL,
  `LIMIT_NAME` varchar(100) NOT NULL,
  `TYPE` varchar(10) NOT NULL,
  `VALUE` int NOT NULL,
  `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updateAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `index3` (`SOLUTION_CODE`,`LIMIT_NAME`),
  KEY `fk_solution_limits_1_idx` (`SOLUTION_CODE`),
  CONSTRAINT `fk_solution_limits_1` FOREIGN KEY (`SOLUTION_CODE`) REFERENCES `solutions` (`CODE`)
) ENGINE=InnoDB AUTO_INCREMENT=47 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci


// tables to export and import as is
streets
employee_properties
property_categories
solution_disqualify_reasons
solution_limits
solution_marks
solution_property
solutions
survey_answer_codes


//
ALTER TABLE `alternative`.`employees` 
ADD COLUMN `FINAL_COMPOUND_SHUTTLE_GRADE` INT NULL AFTER `FINAL_WORK_SHUTTLE_GRADE`,
ADD COLUMN `TOP_SOLUTION_1` VARCHAR(45) NULL DEFAULT NULL AFTER `UPLOAD_ERROR`,
ADD COLUMN `TOP_SOLUTION_2` VARCHAR(45) NULL DEFAULT NULL AFTER `TOP_SOLUTION_1`,
ADD COLUMN `TOP_SOLUTION_3` VARCHAR(45) NULL DEFAULT NULL AFTER `TOP_SOLUTION_2`,
ADD COLUMN `TOP_SOLUTION_4` VARCHAR(45) NULL DEFAULT NULL AFTER `TOP_SOLUTION_3`,
ADD COLUMN `TOP_SOLUTION_5` VARCHAR(45) NULL DEFAULT NULL AFTER `TOP_SOLUTION_4`,
ADD COLUMN `BICYCLE_DISQUALIFY_REASON` SMALLINT NULL AFTER `TOP_SOLUTION_5`,
ADD COLUMN `PUBLIC_TRANSPORT_DISQUALIFY_REASON` SMALLINT NULL AFTER `BICYCLE_DISQUALIFY_REASON`,
ADD COLUMN `WORK_SHUTTLE_DISQUALIFY_REASON` SMALLINT NULL AFTER `PUBLIC_TRANSPORT_DISQUALIFY_REASON`,
ADD COLUMN `COMPOUND_SHUTTLE_DISQUALIFY_REASON` SMALLINT NULL AFTER `WORK_SHUTTLE_DISQUALIFY_REASON`,
ADD COLUMN `WORKING_FROM_HOME_DISQUALIFY_REASON` SMALLINT NULL AFTER `COMPOUND_SHUTTLE_DISQUALIFY_REASON`,
ADD COLUMN `WALKING_DISQUALIFY_REASON` SMALLINT NULL AFTER `WORKING_FROM_HOME_DISQUALIFY_REASON`,
ADD COLUMN `CARPOOL_DISQUALIFY_REASON` SMALLINT NULL AFTER `WALKING_DISQUALIFY_REASON`;

// update old top 5 solutions
// CREATE updateTopSolutions procedure and the call updateTopSolutions();

//
fix html in client re-apply header

